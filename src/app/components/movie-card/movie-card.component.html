<mat-card class="movie-card" [routerLink]="['/movie', movie.id]">
  <div class="card-image-container">
    <img
      mat-card-image
      [src]="movie.posterUrl || 'assets/placeholder-poster.jpg'"
      [alt]="movie.title"
      class="movie-poster"
      (error)="onImageError($event)"
    />
    <div class="card-overlay">
      <button
        mat-fab
        [color]="isInWatchlist ? 'accent' : 'primary'"
        class="watchlist-btn"
        (click)="onAddToWatchlist($event)"
        [attr.aria-label]="
          isInWatchlist ? 'Remove from watchlist' : 'Add to watchlist'
        "
      >
        <mat-icon>{{ isInWatchlist ? "remove" : "add" }}</mat-icon>
      </button>
    </div>
  </div>

  <mat-card-content class="card-content">
    <mat-card-title class="movie-title">{{ movie.title }}</mat-card-title>

    <div class="movie-meta">
      <span class="movie-year" *ngIf="movie.year">{{ movie.year }}</span>
      <span class="movie-type">{{ formatType(movie.type) }}</span>
    </div>
  </mat-card-content>
</mat-card>
